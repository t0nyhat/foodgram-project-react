![foodgram](https://github.com/t0nyhat/foodgram-project-react/actions/workflows/foodgram.yml/badge.svg)

# `Foodgram`
# Описание
    
Проект — сайт Foodgram, «Продуктовый помощник». На этом сервисе пользователи могут публиковать рецепты, подписываться на публикации других пользователей, добавлять понравившиеся рецепты в список «Избранное», а перед походом в магазин скачивать сводный список продуктов, необходимых для приготовления одного или нескольких выбранных блюд.

# Функциональность проекта
- Проект доступен по адресу [https://foodgram.tonyhat.site](https://foodgram.tonyhat.site).
- [Документация](https://foodgram.tonyhat.site/api/docs/)
- [API](https://foodgram.tonyhat.site/api/)
- Все сервисы и страницы доступны для пользователей в соответствии с их правами.
- Рецепты на всех страницах сортируются по дате публикации (новые — выше).
- Работает фильтрация по тегам, в том числе на странице избранного и на странице рецептов одного автора).
- Работает пагинатор (в том числе при фильтрации по тегам).
- Исходные данные предзагружены; добавлены тестовые пользователи и рецепты.
# Для авторизованных пользователей:
- Доступна главная страница.
- Доступна страница другого пользователя.
- Доступна страница отдельного рецепта.
- Доступна страница «Мои подписки».
- Можно подписаться и отписаться на странице рецепта.
- Можно подписаться и отписаться на странице автора.
- При подписке рецепты автора добавляются на страницу «Мои подписки» и удаляются оттуда при отказе от подписки.
- Доступна страница «Избранное».
- На странице рецепта есть возможность добавить рецепт в список избранного и удалить его оттуда.
- На любой странице со списком рецептов есть возможность добавить рецепт в список избранного и удалить его оттуда.
- Доступна страница «Список покупок».
- На странице рецепта есть возможность добавить рецепт в список покупок и удалить его оттуда.
- На любой странице со списком рецептов есть возможность добавить рецепт в список покупок и удалить его оттуда.
- Есть возможность выгрузить файл (.txt или .pdf) с перечнем и количеством необходимых ингредиентов для рецептов из «Списка покупок».
- Ингредиенты в выгружаемом списке не повторяются, корректно подсчитывается общее количество для каждого ингредиента.
- Доступна страница «Создать рецепт».
- Есть возможность опубликовать свой рецепт.
- Есть возможность отредактировать и сохранить изменения в своём рецепте.
- Есть возможность удалить свой рецепт.
- Доступна и работает форма изменения пароля.
- Доступна возможность выйти из системы (разлогиниться).
# Для неавторизованных пользователей
- Доступна главная страница.
- Доступна страница отдельного рецепта.
- Доступна страница любого пользователя.
- Доступна и работает форма авторизации.
- Доступна и работает система восстановления пароля.
- Доступна и работает форма регистрации.
# Администратор и админ-зона
- Все модели выведены в админ-зону.
- Для модели пользователей включена фильтрация по имени и email.
- Для модели рецептов включена фильтрация по названию, автору и тегам.
- На админ-странице рецепта отображается общее число добавлений этого рецепта в избранное.
- Для модели ингредиентов включена фильтрация по названию.
# Инфраструктура
- Проект работает с СУБД PostgreSQL.
- Проект запущен на сервере в Яндекс.Облаке в трёх контейнерах: nginx, PostgreSQL и Django+Gunicorn. Заготовленный контейнер с фронтендом - используется для сборки файлов.
- Контейнер с проектом обновляется на Docker Hub.
- В nginx настроена раздача статики, запросы с фронтенда переадресуются в контейнер с Gunicorn. Джанго-админка работает напрямую через Gunicorn.
- Данные сохраняются в volumes.
- создайте `.env` файл в директории проекта:
  ```
  DB_ENGINE=django.db.backends.postgresql
  DB_NAME=postgres
  POSTGRES_USER=postgres
  POSTGRES_PASSWORD=postgres
  DB_HOST=db
  DB_PORT=5432
  ```
- в терминале выполните команды из директории infra:

  - `docker-compose up -d --build` - собираем и запускаем инфраструктуру
  - `docker-compose exec backend python manage.py migrate --noinput` - выполняем миграции
  - `docker-compose exec web python manage.py createsuperuser` - создаем суперпользователя
  - `docker-compose exec web python manage.py collectstatic --no-input` - собираем статику
  - `docker-compose exec backend python manage.py loaddata fixtures.json` - загружаем тестовые данные

## в тестовых данных созданы:
- админиcтратор
```
  login: admin
  pass: admin
```
- пользователь 1
```
  login: test1@mail.ru
  pass: foodgram-project-react
```
- пользователь 2
```
  login: test2@mail.ru
  pass: foodgram-project-react
```

# Оформление кода
- Код соответствует PEP8.

